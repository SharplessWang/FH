const _0x47362f=_0x45d0;(function(_0x2dce70,_0x2c24ca){const _0xdc36f0=_0x45d0,_0x524684=_0x2dce70();while(!![]){try{const _0x1482f1=parseInt(_0xdc36f0(0x147))/0x1+parseInt(_0xdc36f0(0x1b3))/0x2*(-parseInt(_0xdc36f0(0x117))/0x3)+-parseInt(_0xdc36f0(0xfe))/0x4*(-parseInt(_0xdc36f0(0xcb))/0x5)+-parseInt(_0xdc36f0(0x1d2))/0x6*(parseInt(_0xdc36f0(0x19c))/0x7)+-parseInt(_0xdc36f0(0xf7))/0x8+parseInt(_0xdc36f0(0x132))/0x9*(-parseInt(_0xdc36f0(0xeb))/0xa)+parseInt(_0xdc36f0(0x18e))/0xb;if(_0x1482f1===_0x2c24ca)break;else _0x524684['push'](_0x524684['shift']());}catch(_0x42e47f){_0x524684['push'](_0x524684['shift']());}}}(_0x488a,0x38d24));import{connect}from'cloudflare:sockets';let userID='',proxyIP='',sub='',subConverter='SUBAPI.fxxk.dedyn.io',subConfig=_0x47362f(0x13d),subProtocol=_0x47362f(0x115),subEmoji=_0x47362f(0x11f),socks5Address='',parsedSocks5Address={},enableSocks=![],fakeUserID,fakeHostName,noTLS=_0x47362f(0xe4);const expire=0xf4849500;let proxyIPs,socks5s,go2Socks5s=[_0x47362f(0x188),_0x47362f(0x1cf),_0x47362f(0x144),_0x47362f(0xed)],addresses=[],addressesapi=[],addressesnotls=[],addressesnotlsapi=[],addressescsv=[],DLS=0x8,FileName=atob(_0x47362f(0xc6)),BotToken,ChatID,proxyhosts=[],proxyhostsURL='',RproxyIP=_0x47362f(0xe4),httpsPorts=['2053',_0x47362f(0xbf),'2087',_0x47362f(0x186),_0x47362f(0x104)],有效时间=0x7,更新时间=0x3,userIDLow,userIDTime='',proxyIPPool=[],path='/?ed=2560';export default{async 'fetch'(_0xd7cf43,_0x377586,_0x4ade80){const _0x2ec4a7=_0x47362f;try{const _0x1b2fbd=_0xd7cf43[_0x2ec4a7(0x165)]['get']('User-Agent')||'null',_0x4b112e=_0x1b2fbd[_0x2ec4a7(0x17a)]();if(_0x377586['KEY']){有效时间=_0x377586['TIME']||有效时间,更新时间=_0x377586[_0x2ec4a7(0xdc)]||更新时间;const _0x38400b=await 生成动态UUID(_0x377586[_0x2ec4a7(0x1e0)]);userID=_0x38400b[0x0];}else _0x377586[_0x2ec4a7(0xe5)]&&(userID=_0x377586[_0x2ec4a7(0xe5)]);subEmoji=_0x377586[_0x2ec4a7(0x14c)]||_0x377586[_0x2ec4a7(0x1da)]||subEmoji;if(subEmoji=='0')subEmoji=_0x2ec4a7(0xe4);if(!userID)return new Response('请设置你的UUID变量，或尝试重试部署，检查变量是否生效？',{'status':0x194,'headers':{'Content-Type':_0x2ec4a7(0x180)}});const _0xe94114=new Date();_0xe94114[_0x2ec4a7(0x1c4)](0x0,0x0,0x0,0x0);const _0x11bc69=Math['ceil'](_0xe94114[_0x2ec4a7(0x114)]()/0x3e8),_0x26da85=await 双重哈希(''+userID+_0x11bc69);fakeUserID=[_0x26da85['slice'](0x0,0x8),_0x26da85['slice'](0x8,0xc),_0x26da85['slice'](0xc,0x10),_0x26da85[_0x2ec4a7(0x1b6)](0x10,0x14),_0x26da85[_0x2ec4a7(0x1b6)](0x14)]['join']('-'),fakeHostName=_0x26da85[_0x2ec4a7(0x1b6)](0x6,0x9)+'.'+_0x26da85[_0x2ec4a7(0x1b6)](0xd,0x13),proxyIP=_0x377586[_0x2ec4a7(0x1d1)]||proxyIP,proxyIPs=await 整理(proxyIP),proxyIP=proxyIPs[Math[_0x2ec4a7(0xc8)](Math[_0x2ec4a7(0x1cc)]()*proxyIPs[_0x2ec4a7(0x157)])],socks5Address=_0x377586['SOCKS5']||socks5Address,socks5s=await 整理(socks5Address),socks5Address=socks5s[Math[_0x2ec4a7(0xc8)](Math[_0x2ec4a7(0x1cc)]()*socks5s[_0x2ec4a7(0x157)])],socks5Address=socks5Address[_0x2ec4a7(0x169)]('//')[0x1]||socks5Address;if(_0x377586[_0x2ec4a7(0x119)])httpsPorts=await 整理(_0x377586['CFPORTS']);sub=_0x377586[_0x2ec4a7(0x1c6)]||sub,subConverter=_0x377586[_0x2ec4a7(0x108)]||subConverter;subConverter[_0x2ec4a7(0x154)](_0x2ec4a7(0x1b1))?(subConverter=subConverter[_0x2ec4a7(0x169)]('//')[0x1],subProtocol=_0x2ec4a7(0xec)):subConverter=subConverter['split']('//')[0x1]||subConverter;subConfig=_0x377586[_0x2ec4a7(0x133)]||subConfig;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),RproxyIP=_0x377586[_0x2ec4a7(0x1b5)]||_0x2ec4a7(0xe4),enableSocks=!![];}catch(_0x3fbf0a){let _0x5661d3=_0x3fbf0a;console[_0x2ec4a7(0x12f)](_0x5661d3[_0x2ec4a7(0xaf)]()),RproxyIP=_0x377586[_0x2ec4a7(0x1b5)]||!proxyIP?'true':'false',enableSocks=![];}else RproxyIP=_0x377586[_0x2ec4a7(0x1b5)]||!proxyIP?_0x2ec4a7(0x11f):_0x2ec4a7(0xe4);if(_0x377586['ADD'])addresses=await 整理(_0x377586[_0x2ec4a7(0x10b)]);if(_0x377586[_0x2ec4a7(0xcf)])addressesapi=await 整理(_0x377586[_0x2ec4a7(0xcf)]);if(_0x377586[_0x2ec4a7(0xe8)])addressesnotls=await 整理(_0x377586[_0x2ec4a7(0xe8)]);if(_0x377586[_0x2ec4a7(0x143)])addressesnotlsapi=await 整理(_0x377586[_0x2ec4a7(0x143)]);if(_0x377586['ADDCSV'])addressescsv=await 整理(_0x377586[_0x2ec4a7(0x153)]);DLS=_0x377586[_0x2ec4a7(0x1c7)]||DLS,BotToken=_0x377586[_0x2ec4a7(0x126)]||BotToken,ChatID=_0x377586[_0x2ec4a7(0x1b8)]||ChatID;if(_0x377586['GO2SOCKS5'])go2Socks5s=await 整理(_0x377586[_0x2ec4a7(0xab)]);const _0x392f7a=_0xd7cf43[_0x2ec4a7(0x165)]['get'](_0x2ec4a7(0xb1)),_0x1dc1fa=new URL(_0xd7cf43['url']);if(_0x1dc1fa['searchParams'][_0x2ec4a7(0x13f)]('sub')&&_0x1dc1fa['searchParams'][_0x2ec4a7(0xef)](_0x2ec4a7(0xf4))!=='')sub=_0x1dc1fa['searchParams'][_0x2ec4a7(0xef)](_0x2ec4a7(0xf4));FileName=_0x377586['SUBNAME']||FileName;if(_0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0x13f)](_0x2ec4a7(0x161)))noTLS=_0x2ec4a7(0x11f);if(!_0x392f7a||_0x392f7a!==_0x2ec4a7(0x1a8)){if(_0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0x13f)](_0x2ec4a7(0x199)))path=_0x2ec4a7(0xd2)+_0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0xef)]('proxyip'),RproxyIP='false';else{if(_0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0x13f)](_0x2ec4a7(0x13c)))path=_0x2ec4a7(0x112)+_0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0xef)](_0x2ec4a7(0x13c)),RproxyIP=_0x2ec4a7(0xe4);else _0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0x13f)](_0x2ec4a7(0xfd))&&(path=_0x2ec4a7(0x112)+_0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0xef)]('socks'),RproxyIP='false');}const _0x3add80=_0x1dc1fa[_0x2ec4a7(0x1e1)]['toLowerCase']();if(_0x3add80=='/'){if(_0x377586['URL302'])return Response[_0x2ec4a7(0x12b)](_0x377586[_0x2ec4a7(0x1a3)],0x12e);else{if(_0x377586['URL'])return await 代理URL(_0x377586['URL'],_0x1dc1fa);else return new Response(JSON['stringify'](_0xd7cf43['cf'],null,0x4),{'status':0xc8,'headers':{'content-type':_0x2ec4a7(0x131)}});}}else{if(_0x3add80=='/'+fakeUserID){const _0xfa3f2c=await 生成配置信息(userID,_0xd7cf43['headers'][_0x2ec4a7(0xef)](_0x2ec4a7(0x1bd)),sub,_0x2ec4a7(0x19a),RproxyIP,_0x1dc1fa,_0x377586);return new Response(''+_0xfa3f2c,{'status':0xc8});}else{if(_0x3add80=='/'+_0x377586[_0x2ec4a7(0x1e0)]||_0x3add80=='/'+userID){await sendMessage('#获取订阅\x20'+FileName,_0xd7cf43[_0x2ec4a7(0x165)]['get']('CF-Connecting-IP'),_0x2ec4a7(0x192)+_0x1b2fbd+_0x2ec4a7(0x140)+_0x1dc1fa[_0x2ec4a7(0x1a5)]+_0x2ec4a7(0x1bb)+(_0x1dc1fa[_0x2ec4a7(0x1e1)]+_0x1dc1fa[_0x2ec4a7(0xc5)])+_0x2ec4a7(0x197));const _0x139f31=await 生成配置信息(userID,_0xd7cf43[_0x2ec4a7(0x165)][_0x2ec4a7(0xef)](_0x2ec4a7(0x1bd)),sub,_0x1b2fbd,RproxyIP,_0x1dc1fa,_0x377586),_0x1ba501=Date[_0x2ec4a7(0x17c)](),_0x6c0779=new Date(_0x1ba501);_0x6c0779[_0x2ec4a7(0x1c4)](0x0,0x0,0x0,0x0);const _0x5e3831=Math[_0x2ec4a7(0xc8)]((_0x1ba501-_0x6c0779[_0x2ec4a7(0x114)]())/0x5265c00*0x18*0x10000000000/0x2);let _0x10811b=_0x5e3831,_0x1d1cd2=_0x5e3831,_0x39d743=0x18*0x10000000000;return _0x4b112e&&_0x4b112e[_0x2ec4a7(0x154)](_0x2ec4a7(0x1d7))?new Response(''+_0x139f31,{'status':0xc8,'headers':{'Content-Type':_0x2ec4a7(0x180),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x2ec4a7(0x1a4)+_0x10811b+_0x2ec4a7(0xe0)+_0x1d1cd2+_0x2ec4a7(0x1ac)+_0x39d743+';\x20expire='+expire}}):new Response(''+_0x139f31,{'status':0xc8,'headers':{'Content-Disposition':'attachment;\x20filename='+FileName+_0x2ec4a7(0x16d)+encodeURIComponent(FileName),'Content-Type':_0x2ec4a7(0x180),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x2ec4a7(0x1a4)+_0x10811b+_0x2ec4a7(0xe0)+_0x1d1cd2+_0x2ec4a7(0x1ac)+_0x39d743+_0x2ec4a7(0xf2)+expire}});}else{if(_0x377586[_0x2ec4a7(0x1a3)])return Response[_0x2ec4a7(0x12b)](_0x377586[_0x2ec4a7(0x1a3)],0x12e);else{if(_0x377586[_0x2ec4a7(0xda)])return await 代理URL(_0x377586[_0x2ec4a7(0xda)],_0x1dc1fa);else return new Response('',{'status':0x194});}}}}}else{socks5Address=_0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0xef)](_0x2ec4a7(0x13c))||socks5Address;if(new RegExp(_0x2ec4a7(0x1ae),'i')[_0x2ec4a7(0x177)](_0x1dc1fa[_0x2ec4a7(0x1e1)]))socks5Address=_0x1dc1fa[_0x2ec4a7(0x1e1)][_0x2ec4a7(0x169)]('5=')[0x1];else{if(new RegExp(_0x2ec4a7(0xca),'i')[_0x2ec4a7(0x177)](_0x1dc1fa['pathname'])||new RegExp(_0x2ec4a7(0x17e),'i')['test'](_0x1dc1fa[_0x2ec4a7(0x1e1)])){socks5Address=_0x1dc1fa[_0x2ec4a7(0x1e1)][_0x2ec4a7(0x169)](_0x2ec4a7(0x12d))[0x1][_0x2ec4a7(0x169)]('#')[0x0];if(socks5Address[_0x2ec4a7(0x154)]('@')){let _0x58d450=socks5Address[_0x2ec4a7(0x169)]('@')[0x0];const _0x53df42=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0x53df42[_0x2ec4a7(0x177)](_0x58d450)&&!_0x58d450[_0x2ec4a7(0x154)](':'))_0x58d450=atob(_0x58d450);socks5Address=_0x58d450+'@'+socks5Address[_0x2ec4a7(0x169)]('@')[0x1];}}}if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x4c9390){let _0x542313=_0x4c9390;console['log'](_0x542313[_0x2ec4a7(0xaf)]()),enableSocks=![];}else enableSocks=![];if(_0x1dc1fa[_0x2ec4a7(0x1c5)][_0x2ec4a7(0x13f)](_0x2ec4a7(0x199)))proxyIP=_0x1dc1fa[_0x2ec4a7(0x1c5)]['get'](_0x2ec4a7(0x199)),enableSocks=![];else{if(new RegExp(_0x2ec4a7(0x1bc),'i')[_0x2ec4a7(0x177)](_0x1dc1fa[_0x2ec4a7(0x1e1)]))proxyIP=_0x1dc1fa[_0x2ec4a7(0x1e1)][_0x2ec4a7(0x17a)]()[_0x2ec4a7(0x169)]('/proxyip=')[0x1],enableSocks=![];else new RegExp(_0x2ec4a7(0x1c1),'i')[_0x2ec4a7(0x177)](_0x1dc1fa[_0x2ec4a7(0x1e1)])&&(proxyIP=_0x2ec4a7(0xdf)+_0x1dc1fa[_0x2ec4a7(0x1e1)]['toLowerCase']()['split'](_0x2ec4a7(0x1c1))[0x1],enableSocks=![]);}return await vlessOverWSHandler(_0xd7cf43);}}catch(_0x29ba47){let _0x12c962=_0x29ba47;return new Response(_0x12c962[_0x2ec4a7(0xaf)]());}}};async function vlessOverWSHandler(_0x5cd191){const _0x2af5bb=_0x47362f,_0x15b7c6=new WebSocketPair(),[_0x3e7cff,_0x402504]=Object[_0x2af5bb(0xa9)](_0x15b7c6);_0x402504[_0x2af5bb(0xe9)]();let _0x2a5993='',_0x2e9a28='';const _0x311566=(_0x48b430,_0x499702)=>{const _0x5dce8f=_0x2af5bb;console[_0x5dce8f(0x12f)]('['+_0x2a5993+':'+_0x2e9a28+']\x20'+_0x48b430,_0x499702||'');},_0x4e358b=_0x5cd191['headers'][_0x2af5bb(0xef)](_0x2af5bb(0x1bf))||'',_0x422c82=makeReadableWebSocketStream(_0x402504,_0x4e358b,_0x311566);let _0xb9e939={'value':null},_0xddb3d5=![];return _0x422c82[_0x2af5bb(0xa7)](new WritableStream({async 'write'(_0x27db3d,_0x12f93c){const _0x4a3599=_0x2af5bb;if(_0xddb3d5)return await handleDNSQuery(_0x27db3d,_0x402504,null,_0x311566);if(_0xb9e939[_0x4a3599(0x1d8)]){const _0x54683a=_0xb9e939[_0x4a3599(0x1d8)][_0x4a3599(0xd8)][_0x4a3599(0x1d6)]();await _0x54683a[_0x4a3599(0xc2)](_0x27db3d),_0x54683a[_0x4a3599(0x13e)]();return;}const {hasError:_0x215455,message:_0x28737a,addressType:_0x5b2a07,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x3926f9,vlessVersion:vlessVersion=new Uint8Array([0x0,0x0]),isUDP:_0x668acb}=processVlessHeader(_0x27db3d,userID);_0x2a5993=addressRemote,_0x2e9a28=portRemote+'--'+Math['random']()+'\x20'+(_0x668acb?_0x4a3599(0xbe):_0x4a3599(0xad))+'\x20';if(_0x215455){throw new Error(_0x28737a);return;}if(_0x668acb){if(portRemote===0x35)_0xddb3d5=!![];else{throw new Error('UDP\x20代理仅对\x20DNS（53\x20端口）启用');return;}}const _0x3c92a8=new Uint8Array([vlessVersion[0x0],0x0]),_0x1e8a76=_0x27db3d[_0x4a3599(0x1b6)](_0x3926f9);if(_0xddb3d5)return handleDNSQuery(_0x1e8a76,_0x402504,_0x3c92a8,_0x311566);_0x311566(_0x4a3599(0x137)+addressRemote+':'+portRemote),handleTCPOutBound(_0xb9e939,_0x5b2a07,addressRemote,portRemote,_0x1e8a76,_0x402504,_0x3c92a8,_0x311566);},'close'(){const _0x2b01d4=_0x2af5bb;_0x311566(_0x2b01d4(0x113));},'abort'(_0x3673df){const _0x3c8bf7=_0x2af5bb;_0x311566(_0x3c8bf7(0x148),JSON['stringify'](_0x3673df));}}))[_0x2af5bb(0x10e)](_0x351530=>{const _0x522135=_0x2af5bb;_0x311566(_0x522135(0x150),_0x351530);}),new Response(null,{'status':0x65,'webSocket':_0x3e7cff});}async function handleTCPOutBound(_0x394d33,_0x426d72,_0xc1cfe4,_0x13dfdf,_0x3f8680,_0x2d1493,_0x381b85,_0x4a40dc){const _0x5f0c66=_0x47362f;async function _0x2dfe7e(_0x33adbb){const _0x5422b2=_0x45d0;if(go2Socks5s[_0x5422b2(0x154)](atob(_0x5422b2(0x178)))||go2Socks5s[_0x5422b2(0x154)](atob(_0x5422b2(0x141))))return!![];return go2Socks5s[_0x5422b2(0x19d)](_0x664f17=>{const _0x40c85b=_0x5422b2;let _0x322a2f=_0x664f17[_0x40c85b(0x1c8)](/\*/g,'.*'),_0x14f4a4=new RegExp('^'+_0x322a2f+'$','i');return _0x14f4a4[_0x40c85b(0x177)](_0x33adbb);});}async function _0x40b1e9(_0x1021f3,_0x509862,_0x12f272=![]){const _0x2242e2=_0x45d0;_0x4a40dc(_0x2242e2(0x1e4)+_0x1021f3+':'+_0x509862);const _0xadd348=_0x12f272?await socks5Connect(_0x426d72,_0x1021f3,_0x509862,_0x4a40dc):connect({'hostname':_0x1021f3,'port':_0x509862});_0x394d33[_0x2242e2(0x1d8)]=_0xadd348;const _0x5d3748=_0xadd348[_0x2242e2(0xd8)][_0x2242e2(0x1d6)]();return await _0x5d3748[_0x2242e2(0xc2)](_0x3f8680),_0x5d3748[_0x2242e2(0x13e)](),_0xadd348;}async function _0x3ac3b5(){const _0x570bc2=_0x45d0;if(enableSocks)_0x2edc03=await _0x40b1e9(_0xc1cfe4,_0x13dfdf,!![]);else{if(!proxyIP||proxyIP=='')proxyIP=atob(_0x570bc2(0x151));else{if(proxyIP['includes'](']:'))_0x13dfdf=proxyIP[_0x570bc2(0x169)](']:')[0x1]||_0x13dfdf,proxyIP=proxyIP[_0x570bc2(0x169)](']:')[0x0]||proxyIP;else proxyIP[_0x570bc2(0x169)](':')['length']===0x2&&(_0x13dfdf=proxyIP['split'](':')[0x1]||_0x13dfdf,proxyIP=proxyIP[_0x570bc2(0x169)](':')[0x0]||proxyIP);}if(proxyIP['includes'](_0x570bc2(0x111)))_0x13dfdf=proxyIP[_0x570bc2(0x169)](_0x570bc2(0x111))[0x1]['split']('.')[0x0]||_0x13dfdf;_0x2edc03=await _0x40b1e9(proxyIP||_0xc1cfe4,_0x13dfdf);}_0x2edc03[_0x570bc2(0x170)][_0x570bc2(0x10e)](_0x1bc03f=>{const _0x3c143e=_0x570bc2;console['log'](_0x3c143e(0x16e),_0x1bc03f);})['finally'](()=>{safeCloseWebSocket(_0x2d1493);}),remoteSocketToWS(_0x2edc03,_0x2d1493,_0x381b85,null,_0x4a40dc);}let _0x22f8fc=![];if(go2Socks5s[_0x5f0c66(0x157)]>0x0&&enableSocks)_0x22f8fc=await _0x2dfe7e(_0xc1cfe4);let _0x2edc03=await _0x40b1e9(_0xc1cfe4,_0x13dfdf,_0x22f8fc);remoteSocketToWS(_0x2edc03,_0x2d1493,_0x381b85,_0x3ac3b5,_0x4a40dc);}function makeReadableWebSocketStream(_0x1247f8,_0x2b3342,_0xe7dfb2){let _0x4ea030=![];const _0x2b5495=new ReadableStream({'start'(_0x2e727d){const _0x2a7a26=_0x45d0;_0x1247f8[_0x2a7a26(0x18a)](_0x2a7a26(0x121),_0x32ccbb=>{const _0x1a2363=_0x2a7a26;if(_0x4ea030)return;const _0x39a6a8=_0x32ccbb[_0x1a2363(0x124)];_0x2e727d[_0x1a2363(0x19e)](_0x39a6a8);}),_0x1247f8['addEventListener']('close',()=>{const _0x1bb15b=_0x2a7a26;safeCloseWebSocket(_0x1247f8);if(_0x4ea030)return;_0x2e727d[_0x1bb15b(0x145)]();}),_0x1247f8[_0x2a7a26(0x18a)](_0x2a7a26(0x1be),_0x303de6=>{const _0x111a98=_0x2a7a26;_0xe7dfb2(_0x111a98(0x11d)),_0x2e727d[_0x111a98(0x1be)](_0x303de6);});const {earlyData:_0x502a85,error:_0x4653ed}=base64ToArrayBuffer(_0x2b3342);if(_0x4653ed)_0x2e727d[_0x2a7a26(0x1be)](_0x4653ed);else _0x502a85&&_0x2e727d['enqueue'](_0x502a85);},'pull'(_0x33f1b7){},'cancel'(_0x5e4cbb){if(_0x4ea030)return;_0xe7dfb2('可读流被取消，原因是\x20'+_0x5e4cbb),_0x4ea030=!![],safeCloseWebSocket(_0x1247f8);}});return _0x2b5495;}function processVlessHeader(_0x5a4eee,_0x2d32e3){const _0x4ee144=_0x47362f;if(_0x5a4eee[_0x4ee144(0x122)]<0x18)return{'hasError':!![],'message':_0x4ee144(0x1c0)};const _0xed5f02=new Uint8Array(_0x5a4eee[_0x4ee144(0x1b6)](0x0,0x1));let _0x5a7123=![],_0x30a3b6=![];function _0x21c332(_0x3dbfc3,_0xce6a3,_0x9421c3){const _0x5706c9=_0x4ee144,_0x319da0=new Uint8Array(_0x9421c3[_0x5706c9(0x1b6)](0x1,0x11)),_0x30b359=stringify(_0x319da0);return _0x30b359===_0x3dbfc3||_0x30b359===_0xce6a3;}_0x5a7123=_0x21c332(_0x2d32e3,userIDLow,_0x5a4eee);if(!_0x5a7123)return{'hasError':!![],'message':'invalid\x20user\x20'+new Uint8Array(_0x5a4eee[_0x4ee144(0x1b6)](0x1,0x11))};const _0x5e7ce7=new Uint8Array(_0x5a4eee[_0x4ee144(0x1b6)](0x11,0x12))[0x0],_0x5b529e=new Uint8Array(_0x5a4eee['slice'](0x12+_0x5e7ce7,0x12+_0x5e7ce7+0x1))[0x0];if(_0x5b529e===0x1){}else{if(_0x5b529e===0x2)_0x30a3b6=!![];else return{'hasError':!![],'message':_0x4ee144(0xf6)+_0x5b529e+_0x4ee144(0x14e)};}const _0x1cb625=0x12+_0x5e7ce7+0x1,_0x449248=_0x5a4eee[_0x4ee144(0x1b6)](_0x1cb625,_0x1cb625+0x2),_0x40844b=new DataView(_0x449248)[_0x4ee144(0x123)](0x0);let _0x431e9b=_0x1cb625+0x2;const _0x2f1731=new Uint8Array(_0x5a4eee[_0x4ee144(0x1b6)](_0x431e9b,_0x431e9b+0x1)),_0xd2f1b1=_0x2f1731[0x0];let _0x5cad26=0x0,_0x13062b=_0x431e9b+0x1,_0x5c426b='';switch(_0xd2f1b1){case 0x1:_0x5cad26=0x4,_0x5c426b=new Uint8Array(_0x5a4eee[_0x4ee144(0x1b6)](_0x13062b,_0x13062b+_0x5cad26))['join']('.');break;case 0x2:_0x5cad26=new Uint8Array(_0x5a4eee[_0x4ee144(0x1b6)](_0x13062b,_0x13062b+0x1))[0x0],_0x13062b+=0x1,_0x5c426b=new TextDecoder()[_0x4ee144(0x158)](_0x5a4eee[_0x4ee144(0x1b6)](_0x13062b,_0x13062b+_0x5cad26));break;case 0x3:_0x5cad26=0x10;const _0x20f0d0=new DataView(_0x5a4eee[_0x4ee144(0x1b6)](_0x13062b,_0x13062b+_0x5cad26)),_0xd3ba40=[];for(let _0x45efa8=0x0;_0x45efa8<0x8;_0x45efa8++){_0xd3ba40['push'](_0x20f0d0[_0x4ee144(0x123)](_0x45efa8*0x2)[_0x4ee144(0xaf)](0x10));}_0x5c426b=_0xd3ba40['join'](':');break;default:return{'hasError':!![],'message':_0x4ee144(0xfc)+_0xd2f1b1};}if(!_0x5c426b)return{'hasError':!![],'message':'addressValue\x20is\x20empty,\x20addressType\x20is\x20'+_0xd2f1b1};return{'hasError':![],'addressRemote':_0x5c426b,'addressType':_0xd2f1b1,'portRemote':_0x40844b,'rawDataIndex':_0x13062b+_0x5cad26,'vlessVersion':_0xed5f02,'isUDP':_0x30a3b6};}function _0x45d0(_0x2da237,_0x5156dd){const _0x488a08=_0x488a();return _0x45d0=function(_0x45d07f,_0x58033b){_0x45d07f=_0x45d07f-0xa6;let _0x1569d8=_0x488a08[_0x45d07f];return _0x1569d8;},_0x45d0(_0x2da237,_0x5156dd);}async function remoteSocketToWS(_0x40fedd,_0x30b069,_0x6698e4,_0xd271c4,_0x567c0f){const _0x136a74=_0x47362f;let _0x22248d=0x0,_0x4b2181=[],_0x5cdc69=_0x6698e4,_0x310968=![];await _0x40fedd[_0x136a74(0x138)][_0x136a74(0xa7)](new WritableStream({'start'(){},async 'write'(_0xada087,_0x44429b){const _0x332d45=_0x136a74;_0x310968=!![],_0x30b069[_0x332d45(0x152)]!==WS_READY_STATE_OPEN&&_0x44429b['error'](_0x332d45(0xd1)),_0x5cdc69?(_0x30b069['send'](await new Blob([_0x5cdc69,_0xada087])[_0x332d45(0x1dd)]()),_0x5cdc69=null):_0x30b069[_0x332d45(0x16a)](_0xada087);},'close'(){const _0x8aaeb7=_0x136a74;_0x567c0f(_0x8aaeb7(0xf1)+_0x310968);},'abort'(_0xa83638){const _0x50492f=_0x136a74;console[_0x50492f(0x1be)](_0x50492f(0xe1),_0xa83638);}}))['catch'](_0x50f909=>{const _0x374b6f=_0x136a74;console['error'](_0x374b6f(0x14b),_0x50f909[_0x374b6f(0xa8)]||_0x50f909),safeCloseWebSocket(_0x30b069);}),_0x310968===![]&&_0xd271c4&&(_0x567c0f('retry'),_0xd271c4());}function base64ToArrayBuffer(_0x6222a9){const _0x3c4b75=_0x47362f;if(!_0x6222a9)return{'error':null};try{_0x6222a9=_0x6222a9['replace'](/-/g,'+')[_0x3c4b75(0x1c8)](/_/g,'/');const _0x4765e9=atob(_0x6222a9),_0x3b1f2a=Uint8Array['from'](_0x4765e9,_0x194bbe=>_0x194bbe[_0x3c4b75(0x139)](0x0));return{'earlyData':_0x3b1f2a['buffer'],'error':null};}catch(_0x3a0393){return{'error':_0x3a0393};}}function isValidUUID(_0x420750){const _0x273d62=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x273d62['test'](_0x420750);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x5f1534){const _0x3732e8=_0x47362f;try{(_0x5f1534['readyState']===WS_READY_STATE_OPEN||_0x5f1534[_0x3732e8(0x152)]===WS_READY_STATE_CLOSING)&&_0x5f1534['close']();}catch(_0x20d908){console[_0x3732e8(0x1be)](_0x3732e8(0x171),_0x20d908);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex['push']((i+0x100)[_0x47362f(0xaf)](0x10)['slice'](0x1));}function unsafeStringify(_0x117b56,_0x2bb9a9=0x0){return(byteToHex[_0x117b56[_0x2bb9a9+0x0]]+byteToHex[_0x117b56[_0x2bb9a9+0x1]]+byteToHex[_0x117b56[_0x2bb9a9+0x2]]+byteToHex[_0x117b56[_0x2bb9a9+0x3]]+'-'+byteToHex[_0x117b56[_0x2bb9a9+0x4]]+byteToHex[_0x117b56[_0x2bb9a9+0x5]]+'-'+byteToHex[_0x117b56[_0x2bb9a9+0x6]]+byteToHex[_0x117b56[_0x2bb9a9+0x7]]+'-'+byteToHex[_0x117b56[_0x2bb9a9+0x8]]+byteToHex[_0x117b56[_0x2bb9a9+0x9]]+'-'+byteToHex[_0x117b56[_0x2bb9a9+0xa]]+byteToHex[_0x117b56[_0x2bb9a9+0xb]]+byteToHex[_0x117b56[_0x2bb9a9+0xc]]+byteToHex[_0x117b56[_0x2bb9a9+0xd]]+byteToHex[_0x117b56[_0x2bb9a9+0xe]]+byteToHex[_0x117b56[_0x2bb9a9+0xf]])['toLowerCase']();}function stringify(_0x15a153,_0x5d3946=0x0){const _0x2c76b5=_0x47362f,_0x427a3b=unsafeStringify(_0x15a153,_0x5d3946);if(!isValidUUID(_0x427a3b))throw TypeError(_0x2c76b5(0x100)+_0x427a3b);return _0x427a3b;}async function handleDNSQuery(_0xe72541,_0x1be55e,_0x375295,_0x5016c3){const _0x2eeb1d=_0x47362f;try{const _0x47a0a6=_0x2eeb1d(0x105),_0x154eea=0x35;let _0x3af5bd=_0x375295;const _0x33e6c4=connect({'hostname':_0x47a0a6,'port':_0x154eea});_0x5016c3(_0x2eeb1d(0x11b)+_0x47a0a6+':'+_0x154eea);const _0x1ade6b=_0x33e6c4['writable']['getWriter']();await _0x1ade6b[_0x2eeb1d(0xc2)](_0xe72541),_0x1ade6b[_0x2eeb1d(0x13e)](),await _0x33e6c4[_0x2eeb1d(0x138)]['pipeTo'](new WritableStream({async 'write'(_0x2aceaf){const _0x101465=_0x2eeb1d;_0x1be55e[_0x101465(0x152)]===WS_READY_STATE_OPEN&&(_0x3af5bd?(_0x1be55e['send'](await new Blob([_0x3af5bd,_0x2aceaf])[_0x101465(0x1dd)]()),_0x3af5bd=null):_0x1be55e['send'](_0x2aceaf));},'close'(){const _0x2f3bc9=_0x2eeb1d;_0x5016c3(_0x2f3bc9(0x1b7)+_0x47a0a6+')\x20TCP\x20连接已关闭');},'abort'(_0x1adb53){const _0x53b73c=_0x2eeb1d;console['error']('DNS\x20服务器('+_0x47a0a6+_0x53b73c(0x110),_0x1adb53);}}));}catch(_0x2aaf19){console[_0x2eeb1d(0x1be)](_0x2eeb1d(0xdb)+_0x2aaf19[_0x2eeb1d(0x121)]);}}function _0x488a(){const _0x53a0b8=['DLS','replace','/sub?host=','?clash\x0a\x0asingbox订阅地址:\x0ahttps://','proxyip=true','random','\x0aFKID:\x20','\x20(UTC+8):\x20','*tapecontent.net','ZG14bGMzTT0=','PROXYIP','1623498rxeTVs','141.101.64.0/19','then','charAt','getWriter','mozilla','value','\x0a<tg-spoiler>城市:\x20','EMOJI','all','ADDNOTLS（noTLS优选域名&IP）:\x20\x0a\x20\x20','arrayBuffer','103.21.244.0/23','.net','KEY','pathname','&uuid=','pow','connected\x20to\x20','#CF随机节点','\x0aIP:\x20','\x0a\x20\x20','pipeTo','stack','values','已发送\x20SOCKS5\x20问候消息','GO2SOCKS5','\x0a\x20\x20uuid:\x20','tcp\x20','\x0aUUIDNow:\x20','toString','TLS','Upgrade','&path=','ceil','push','Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.','?encry','\x0a---------------------------------------------------------------\x0a################################################################\x0aclash-meta\x0a---------------------------------------------------------------\x0a','SOCKS5\x20连接建立失败','无效的\x20SOCKS\x20地址格式：IPv6\x20地址必须用方括号括起来，如\x20[2001:db8::1]','subconverter','org','dmlzYS5jbg==','190.93.240.0/21','udp\x20','2083','city','Mozilla/5.0\x20Chrome/90.0.4430.72','write','Error\x20fetching\x20content:\x20','HOST:\x20','search','ZWRnZXR1bm5lbA==','SOCKS5\x20连接已建立','floor','\x0a---------------------------------------------------------------\x0a################################################################\x0a','/socks://','307730ImeQDC','body','?base64\x0a\x0aclash订阅地址:\x0ahttps://','\x0a国家:\x20','ADDAPI','from','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','/?ed=2560&proxyip=','none','read','TIME（动态UUID有效时间）:\x20','&security=','MD5','writable','reject','URL','handleDNSQuery\x20函数发生异常，错误信息:\x20','UPTIME','TOKEN:\x20','workers.dev','proxyip.',';\x20download=','remoteConnection!.readable\x20abort','CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20','?lang=zh-CN','false','UUID','无效的地址类型:\x20','.workers.dev','ADDNOTLS','accept','虚假订阅:\x20','10LgRPGA','http','*.loadshare.org','P2VuY3J5cHRpb249bm9uZSZzZWN1cml0eT10bHMmc25pPQ==','get','allSettled','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20',';\x20expire=','country','sub','104.24.0.0/15','command\x20','489368sxPUDo','reverse','\x0aUA:\x20','获取地址时出错:','concat','invild\x20addressType\x20is\x20','socks','8bQHZAR','subtle','生成的\x20UUID\x20不符合规范\x20','\x0a<tg-spoiler>','SOCKS5\x20服务器认证失败','Error\x20fetching\x20content:','8443','8.8.4.4','protocol','服务器不接受任何认证方法','SUBAPI','https://','ADDCSV（IPTest测速csv文件\x20限速\x20','ADD','&insert=false&config=','encode','catch','\x0a\x20\x20port:\x20',')\x20TCP\x20连接异常中断','.tp','/?ed=2560&socks5=','readableWebSocketStream\x20已关闭','getTime','https','TRUE','21rXSBea','\x0aSUB（优选订阅生成器）:\x20','CFPORTS','ADDNOTLSAPI（noTLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20','连接到\x20','8080','WebSocket\x20服务器发生错误','CSV文件缺少必需的字段','true','?sub\x0a\x0aBase64订阅地址:\x0ahttps://','message','byteLength','getUint16','data','，期望是\x205','TGTOKEN','clash','?b64\x0ahttps://','CFCDN（访问方式）:\x20Socks5\x0a\x20\x20','tls','redirect','104.16.0.0/13','://','GET','log','172.64.0.0/14','application/json','2202741pasSRr','SUBCONFIG','singbox','dGlvbj0=','2052','处理\x20TCP\x20出站连接\x20','readable','charCodeAt','dGVsZWdyYW0lMjAlRTQlQkElQTQlRTYlQjUlODElRTclQkUlQTQlMjAlRTYlOEElODAlRTYlOUMlQUYlRTUlQTQlQTclRTQlQkQlQUMlN0UlRTUlOUMlQTglRTclQkElQkYlRTUlOEYlOTElRTclODklOEMhCmh0dHBzJTNBJTJGJTJGdC5tZSUyRkNNTGl1c3NzcwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZ2l0aHViJTIwJUU5JUExJUI5JUU3JTlCJUFFJUU1JTlDJUIwJUU1JTlEJTgwJTIwU3RhciFTdGFyIVN0YXIhISEKaHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGY21saXUlMkZlZGdldHVubmVsCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQolMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjM=','abort','socks5','https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_MultiMode.ini','releaseLock','has','</tg-spoiler>\x0a域名:\x20','Kg==','\x0a\x20\x20tls:\x20','ADDNOTLSAPI','*cloudatacdn.com','close','?singbox\x0a---------------------------------------------------------------\x0a################################################################\x0a','342066JtDImb','readableWebSocketStream\x20已中止','/sub?target=singbox&url=','FALSE','remoteSocketToWS\x20has\x20exception\x20','SUBEMOJI','json','\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux','trim','readableWebSocketStream\x20管道错误','UFJPWFlJUC50cDEuZnh4ay5kZWR5bi5pbw==','readyState','ADDCSV','includes','ADDAPI（TLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20','CFCDN（访问方式）:\x20无法访问,\x20需要您设置\x20proxyIP/PROXYIP\x20！！！\x0a','length','decode','\x0a\x20\x20server:\x20','&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','SOCKS5\x20服务器版本错误:\x20收到\x20','indexOf','pop','SOCKS5\x20服务器需要认证','entries','104.16.0.0/14','notls','match','IENGLVdvcmtlcnMtZWRnZXR1bm5lbC9jbWxpdQ==','-\x20type:\x20','headers','2082','&proxyip=','padStart','split','send','worker','JmVkZ2V0dW5uZWw9Y21saXUmcHJveHlpcD0=',';\x20filename*=utf-8\x27\x27','retry\x20tcpSocket\x20closed\x20error','X-New-URL','closed','safeCloseWebSocket\x20error','获取CSV地址时出错:','flatMap','&type=','toUpperCase','function','test','YWxsIGlu','\x0aUUIDLow:\x20','toLowerCase','statusText','now','\x22\x0a\x09headers:\x0a\x09\x20\x20host:\x20','/socks5://','&host=','text/plain;charset=utf-8','\x0a\x20\x20client-fingerprint:\x20','filter','\x0a您的订阅内容由\x20内置\x20addresses/ADD*\x20参数变量提供\x0a','Error\x20sending\x20message:','gzip,\x20deflate,\x20br','2096','\x20天\x0aUPTIME（动态UUID更新时间）:\x20','*ttvnw.net','ADD（TLS优选域名&IP）:\x20\x0a\x20\x20','addEventListener',':443','%E6%89%80%E6%9C%89%E6%B5%81%E9%87%8F','&notls','6821507FoOBhp','digest','getReader','text/html,application/xhtml+xml,application/xml;','UA:\x20','\x0a\x20\x20network:\x20','\x0ahttps://','randomized','2086','</tg-spoiler>','text','proxyip','CF-Workers-SUB','?sb\x0ahttps://','7OXgkhd','some','enqueue','toISOString','\x0a\x20\x20name:\x20','join','443','URL302','upload=','hostname','\x0a\x20\x20ws-opts:\x0a\x09path:\x20\x22','\x0aASN:\x20','websocket','Q0YtV29ya2Vycy1lZGdldHVubmVsL2NtbGl1','base64','\x20）:\x20\x0a\x20\x20',';\x20total=','188.114.96.0/21','/socks5=','无效的\x20SOCKS\x20地址格式：端口号必须是数字','P2VuY3J5cHRpb249bm9uZSZzZWN1cml0eT0mdHlwZT13cyZob3N0PQ==','http://','无效的\x20SOCKS\x20地址格式：认证部分必须是\x20\x22username:password\x22\x20的形式','78872cazsdH','&emoji=','RPROXYIP','slice','DNS\x20服务器(','TGID','map','substr','\x0a<tg-spoiler>入口:\x20','/proxyip=','Host','error','sec-websocket-protocol','invalid\x20data','/proxyip.','find','status','setHours','searchParams','SUB'];_0x488a=function(){return _0x53a0b8;};return _0x488a();}async function socks5Connect(_0x32c398,_0x5019a1,_0x163c3a,_0x148982){const _0x522c93=_0x47362f,{username:_0x47143e,password:_0x14a539,hostname:_0x2d038c,port:_0x3ec016}=parsedSocks5Address,_0x2180e2=connect({'hostname':_0x2d038c,'port':_0x3ec016}),_0x3ffdcc=new Uint8Array([0x5,0x2,0x0,0x2]),_0xcef498=_0x2180e2[_0x522c93(0xd8)][_0x522c93(0x1d6)]();await _0xcef498['write'](_0x3ffdcc),_0x148982(_0x522c93(0xaa));const _0x166743=_0x2180e2[_0x522c93(0x138)][_0x522c93(0x190)](),_0x3b50f3=new TextEncoder();let _0x193a1f=(await _0x166743[_0x522c93(0xd4)]())['value'];if(_0x193a1f[0x0]!==0x5){_0x148982(_0x522c93(0x15b)+_0x193a1f[0x0]+_0x522c93(0x125));return;}if(_0x193a1f[0x1]===0xff){_0x148982(_0x522c93(0x107));return;}if(_0x193a1f[0x1]===0x2){_0x148982(_0x522c93(0x15e));if(!_0x47143e||!_0x14a539){_0x148982('请提供用户名和密码');return;}const _0x458679=new Uint8Array([0x1,_0x47143e[_0x522c93(0x157)],..._0x3b50f3[_0x522c93(0x10d)](_0x47143e),_0x14a539[_0x522c93(0x157)],..._0x3b50f3[_0x522c93(0x10d)](_0x14a539)]);await _0xcef498[_0x522c93(0xc2)](_0x458679),_0x193a1f=(await _0x166743[_0x522c93(0xd4)]())['value'];if(_0x193a1f[0x0]!==0x1||_0x193a1f[0x1]!==0x0){_0x148982(_0x522c93(0x102));return;}}let _0x1e41a9;switch(_0x32c398){case 0x1:_0x1e41a9=new Uint8Array([0x1,..._0x5019a1[_0x522c93(0x169)]('.')[_0x522c93(0x1b9)](Number)]);break;case 0x2:_0x1e41a9=new Uint8Array([0x3,_0x5019a1['length'],..._0x3b50f3[_0x522c93(0x10d)](_0x5019a1)]);break;case 0x3:_0x1e41a9=new Uint8Array([0x4,..._0x5019a1[_0x522c93(0x169)](':')[_0x522c93(0x173)](_0x341685=>[parseInt(_0x341685['slice'](0x0,0x2),0x10),parseInt(_0x341685[_0x522c93(0x1b6)](0x2),0x10)])]);break;default:_0x148982(_0x522c93(0xe6)+_0x32c398);return;}const _0x48e57a=new Uint8Array([0x5,0x1,0x0,..._0x1e41a9,_0x163c3a>>0x8,_0x163c3a&0xff]);await _0xcef498['write'](_0x48e57a),_0x148982('已发送\x20SOCKS5\x20请求'),_0x193a1f=(await _0x166743[_0x522c93(0xd4)]())[_0x522c93(0x1d8)];if(_0x193a1f[0x1]===0x0)_0x148982(_0x522c93(0xc7));else{_0x148982(_0x522c93(0xb8));return;}return _0xcef498[_0x522c93(0x13e)](),_0x166743[_0x522c93(0x13e)](),_0x2180e2;}function socks5AddressParser(_0x2b42f8){const _0xdca394=_0x47362f;let [_0x26eda7,_0x1cabed]=_0x2b42f8[_0xdca394(0x169)]('@')[_0xdca394(0xf8)](),_0x55abb9,_0x471a15,_0x929227,_0x55494b;if(_0x1cabed){const _0x1363a3=_0x1cabed['split'](':');if(_0x1363a3[_0xdca394(0x157)]!==0x2)throw new Error(_0xdca394(0x1b2));[_0x55abb9,_0x471a15]=_0x1363a3;}const _0x39f6c2=_0x26eda7[_0xdca394(0x169)](':');_0x55494b=Number(_0x39f6c2[_0xdca394(0x15d)]());if(isNaN(_0x55494b))throw new Error(_0xdca394(0x1af));_0x929227=_0x39f6c2[_0xdca394(0x1a1)](':');const _0x40fe0e=/^\[.*\]$/;if(_0x929227[_0xdca394(0x154)](':')&&!_0x40fe0e[_0xdca394(0x177)](_0x929227))throw new Error(_0xdca394(0xb9));return{'username':_0x55abb9,'password':_0x471a15,'hostname':_0x929227,'port':_0x55494b};}function 恢复伪装信息(_0x40aab2,_0x2be06a,_0x1ac9f1,_0x1a0310){const _0x40c785=_0x47362f;if(_0x1a0310)_0x40aab2=atob(_0x40aab2);_0x40aab2=_0x40aab2[_0x40c785(0x1c8)](new RegExp(fakeUserID,'g'),_0x2be06a)[_0x40c785(0x1c8)](new RegExp(fakeHostName,'g'),_0x1ac9f1);if(_0x1a0310)_0x40aab2=btoa(_0x40aab2);return _0x40aab2;}async function 双重哈希(_0x44525b){const _0x2c0fcf=_0x47362f,_0x5a2bf7=new TextEncoder(),_0x15d89c=await crypto[_0x2c0fcf(0xff)][_0x2c0fcf(0x18f)]('MD5',_0x5a2bf7['encode'](_0x44525b)),_0x2249f5=Array[_0x2c0fcf(0xd0)](new Uint8Array(_0x15d89c)),_0x3b8e31=_0x2249f5['map'](_0x410380=>_0x410380[_0x2c0fcf(0xaf)](0x10)[_0x2c0fcf(0x168)](0x2,'0'))[_0x2c0fcf(0x1a1)](''),_0x52d126=await crypto[_0x2c0fcf(0xff)]['digest'](_0x2c0fcf(0xd7),_0x5a2bf7[_0x2c0fcf(0x10d)](_0x3b8e31[_0x2c0fcf(0x1b6)](0x7,0x1b))),_0x47b567=Array[_0x2c0fcf(0xd0)](new Uint8Array(_0x52d126)),_0x116fda=_0x47b567['map'](_0x2ef619=>_0x2ef619[_0x2c0fcf(0xaf)](0x10)['padStart'](0x2,'0'))[_0x2c0fcf(0x1a1)]('');return _0x116fda[_0x2c0fcf(0x17a)]();}async function 代理URL(_0x5a3697,_0x2a522d){const _0x80f977=_0x47362f,_0xd279b5=await 整理(_0x5a3697),_0x1362ef=_0xd279b5[Math['floor'](Math[_0x80f977(0x1cc)]()*_0xd279b5[_0x80f977(0x157)])];let _0x2324b4=new URL(_0x1362ef);console[_0x80f977(0x12f)](_0x2324b4);let _0x42dd58=_0x2324b4[_0x80f977(0x106)][_0x80f977(0x1b6)](0x0,-0x1)||_0x80f977(0x115),_0x2bc87b=_0x2324b4[_0x80f977(0x1a5)],_0x199150=_0x2324b4[_0x80f977(0x1e1)],_0x4339a2=_0x2324b4[_0x80f977(0xc5)];_0x199150['charAt'](_0x199150['length']-0x1)=='/'&&(_0x199150=_0x199150[_0x80f977(0x1b6)](0x0,-0x1));_0x199150+=_0x2a522d['pathname'];let _0x37e713=_0x42dd58+_0x80f977(0x12d)+_0x2bc87b+_0x199150+_0x4339a2,_0x5edf47=await fetch(_0x37e713),_0xcd6cbf=new Response(_0x5edf47[_0x80f977(0xcc)],{'status':_0x5edf47[_0x80f977(0x1c3)],'statusText':_0x5edf47[_0x80f977(0x17b)],'headers':_0x5edf47['headers']});return _0xcd6cbf[_0x80f977(0x165)]['set'](_0x80f977(0x16f),_0x37e713),_0xcd6cbf;}const 啥啥啥_写的这是啥啊=atob(_0x47362f(0x1d0));function 配置信息(_0x4e666c,_0xa0afea){const _0x1aa9ca=_0x47362f,_0x5f57af=atob(啥啥啥_写的这是啥啊),_0x41da3d=FileName;let _0x75fa49=_0xa0afea,_0x1f8975=0x1bb;const _0x53123c=_0x4e666c,_0x5ca3b8=_0x1aa9ca(0xd3),_0x523d2c='ws',_0x3638e2=_0xa0afea,_0x522072=path;let _0x3f7c21=[_0x1aa9ca(0x12a),!![]];const _0x135f9d=_0xa0afea,_0x49e548=_0x1aa9ca(0x195);_0xa0afea['includes']('.workers.dev')&&(_0x75fa49=atob(_0x1aa9ca(0xbc)),_0x1f8975=0x50,_0x3f7c21=['',![]]);const _0x5d4a39=_0x5f57af+_0x1aa9ca(0x12d)+_0x53123c+'@'+_0x75fa49+':'+_0x1f8975+_0x1aa9ca(0xb6)+'p'+(atob(_0x1aa9ca(0x135))+_0x5ca3b8+_0x1aa9ca(0xd6)+_0x3f7c21[0x0]+'&sni='+_0x135f9d+'&fp='+_0x49e548+_0x1aa9ca(0x174)+_0x523d2c+_0x1aa9ca(0x17f)+_0x3638e2+_0x1aa9ca(0xb2)+encodeURIComponent(_0x522072)+'#'+encodeURIComponent(_0x41da3d)),_0x245295=_0x1aa9ca(0x164)+_0x5f57af+_0x1aa9ca(0x1a0)+FileName+_0x1aa9ca(0x159)+_0x75fa49+_0x1aa9ca(0x10f)+_0x1f8975+_0x1aa9ca(0xac)+_0x53123c+_0x1aa9ca(0x193)+_0x523d2c+_0x1aa9ca(0x142)+_0x3f7c21[0x1]+'\x0a\x20\x20udp:\x20false\x0a\x20\x20sni:\x20'+_0x135f9d+_0x1aa9ca(0x181)+_0x49e548+_0x1aa9ca(0x1a6)+_0x522072+_0x1aa9ca(0x17d)+_0x3638e2;return[_0x5d4a39,_0x245295];}let subParams=[_0x47362f(0xf4),_0x47362f(0x1aa),'b64',_0x47362f(0x127),_0x47362f(0x134),'sb'];async function 生成配置信息(_0x3e29ea,_0x2450f2,_0xa9ffaa,_0x5da3cb,_0x2f8c32,_0x42f633,_0x379990){const _0x4a0100=_0x47362f;if(_0xa9ffaa){const _0x4cd4e5=_0xa9ffaa[_0x4a0100(0x162)](/^(?:https?:\/\/)?([^\/]+)/);_0x4cd4e5&&(_0xa9ffaa=_0x4cd4e5[0x1]);const _0xc1c8f0=整理(_0xa9ffaa);if(_0xc1c8f0['length']>0x1)_0xa9ffaa=_0xc1c8f0[0x0];}else{if(addresses[_0x4a0100(0x157)]+addressesapi[_0x4a0100(0x157)]+addressesnotls['length']+addressesnotlsapi[_0x4a0100(0x157)]+addressescsv[_0x4a0100(0x157)]==0x0){let _0x1179c7=[_0x4a0100(0x1de),_0x4a0100(0x12c),'104.24.0.0/14',_0x4a0100(0x130),_0x4a0100(0x1de),_0x4a0100(0x160),_0x4a0100(0xf5),_0x4a0100(0x1d3),_0x4a0100(0x130),_0x4a0100(0x1ad),_0x4a0100(0xbd)];function _0x456036(_0x1ab4c7){const _0x350cad=_0x4a0100,[_0x4f002a,_0x2bfb3a]=_0x1ab4c7[_0x350cad(0x169)]('/'),_0x4a8bd0=_0x4f002a['split']('.')[_0x350cad(0x1b9)](Number),_0x4c280d=0x20-parseInt(_0x2bfb3a,0xa),_0x1a0457=Math[_0x350cad(0x1e3)](0x2,_0x4c280d)-0x1,_0x117733=Math['floor'](Math[_0x350cad(0x1cc)]()*_0x1a0457),_0x4b4394=_0x4a8bd0[_0x350cad(0x1b9)]((_0x816606,_0x2bd449)=>{if(_0x2bd449<0x2)return _0x816606;if(_0x2bd449===0x2)return(_0x816606&0xff<<_0x4c280d-0x8)+(_0x117733>>0x8&0xff);return(_0x816606&0xff<<_0x4c280d)+(_0x117733&0xff);});return _0x4b4394[_0x350cad(0x1a1)]('.');}addresses=addresses[_0x4a0100(0xfb)]('127.0.0.1:1234#CFnat'),_0x2450f2['includes'](_0x4a0100(0xe7))?addressesnotls=addressesnotls[_0x4a0100(0xfb)](_0x1179c7[_0x4a0100(0x1b9)](_0x4f8d04=>_0x456036(_0x4f8d04)+_0x4a0100(0x1e5))):addresses=addresses[_0x4a0100(0xfb)](_0x1179c7['map'](_0x32695d=>_0x456036(_0x32695d)+_0x4a0100(0x1e5)));}}const _0x545b9d=_0x42f633[_0x4a0100(0x1e1)]=='/'+_0x379990[_0x4a0100(0x1e0)]?_0x379990[_0x4a0100(0x1e0)]:_0x3e29ea,_0x3cec3f=_0x5da3cb[_0x4a0100(0x17a)](),_0x49eee0=配置信息(_0x3e29ea,_0x2450f2),_0x512e54=_0x49eee0[0x0],_0x4d29a2=_0x49eee0[0x1];let _0x2b7ce5='';if(_0x2450f2['includes'](_0x4a0100(0xe7))){if(proxyhostsURL&&(!proxyhosts||proxyhosts['length']==0x0))try{const _0x860e7f=await fetch(proxyhostsURL);if(!_0x860e7f['ok']){console[_0x4a0100(0x1be)](_0x4a0100(0xfa),_0x860e7f[_0x4a0100(0x1c3)],_0x860e7f[_0x4a0100(0x17b)]);return;}const _0x3311b5=await _0x860e7f['text'](),_0x5b442e=_0x3311b5[_0x4a0100(0x169)]('\x0a'),_0x4673d0=_0x5b442e['filter'](_0x300dcc=>_0x300dcc['trim']()!=='');proxyhosts=proxyhosts[_0x4a0100(0xfb)](_0x4673d0);}catch(_0x421eb){}if(proxyhosts['length']!=0x0)_0x2b7ce5=proxyhosts[Math[_0x4a0100(0xc8)](Math[_0x4a0100(0x1cc)]()*proxyhosts['length'])]+'/';}if(_0x3cec3f[_0x4a0100(0x154)](_0x4a0100(0x1d7))&&!subParams['some'](_0x2b282a=>_0x42f633[_0x4a0100(0x1c5)][_0x4a0100(0x13f)](_0x2b282a))){const _0x52d3b2=socks5s[_0x4a0100(0x1b9)](_0x1da8df=>{const _0x3c3a27=_0x4a0100;if(_0x1da8df[_0x3c3a27(0x154)]('@'))return _0x1da8df[_0x3c3a27(0x169)]('@')[0x1];else{if(_0x1da8df[_0x3c3a27(0x154)]('//'))return _0x1da8df[_0x3c3a27(0x169)]('//')[0x1];else return _0x1da8df;}});let _0x1ec749='';if(go2Socks5s[_0x4a0100(0x157)]>0x0&&enableSocks){_0x1ec749=''+decodeURIComponent('SOCKS5%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89%3A%20');if(go2Socks5s['includes'](atob(_0x4a0100(0x178)))||go2Socks5s[_0x4a0100(0x154)](atob(_0x4a0100(0x141))))_0x1ec749+=decodeURIComponent(_0x4a0100(0x18c))+'\x0a';else _0x1ec749+=_0x4a0100(0xa6)+go2Socks5s[_0x4a0100(0x1a1)](_0x4a0100(0xa6))+'\x0a';}let _0x1f6d40='\x0a';if(_0xa9ffaa){if(enableSocks)_0x1f6d40+=_0x4a0100(0x129)+_0x52d3b2[_0x4a0100(0x1a1)](_0x4a0100(0xa6))+'\x0a'+_0x1ec749;else{if(proxyIP&&proxyIP!='')_0x1f6d40+=_0x4a0100(0xe2)+proxyIPs[_0x4a0100(0x1a1)](_0x4a0100(0xa6))+'\x0a';else{if(_0x2f8c32=='true')_0x1f6d40+='CFCDN（访问方式）:\x20自动获取ProxyIP\x0a';else _0x1f6d40+=_0x4a0100(0x156);}}_0x1f6d40+=_0x4a0100(0x118)+_0xa9ffaa;}else{if(enableSocks)_0x1f6d40+=_0x4a0100(0x129)+_0x52d3b2['join'](_0x4a0100(0xa6))+'\x0a'+_0x1ec749;else{if(proxyIP&&proxyIP!='')_0x1f6d40+='CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20'+proxyIPs[_0x4a0100(0x1a1)](_0x4a0100(0xa6))+'\x0a';else _0x1f6d40+='CFCDN（访问方式）:\x20无法访问,\x20需要您设置\x20proxyIP/PROXYIP\x20！！！\x0a';}_0x1f6d40+=_0x4a0100(0x183);if(addresses[_0x4a0100(0x157)]>0x0)_0x1f6d40+=_0x4a0100(0x189)+addresses[_0x4a0100(0x1a1)]('\x0a\x20\x20')+'\x0a';if(addressesnotls['length']>0x0)_0x1f6d40+=_0x4a0100(0x1dc)+addressesnotls['join'](_0x4a0100(0xa6))+'\x0a';if(addressesapi[_0x4a0100(0x157)]>0x0)_0x1f6d40+=_0x4a0100(0x155)+addressesapi[_0x4a0100(0x1a1)](_0x4a0100(0xa6))+'\x0a';if(addressesnotlsapi[_0x4a0100(0x157)]>0x0)_0x1f6d40+=_0x4a0100(0x11a)+addressesnotlsapi[_0x4a0100(0x1a1)](_0x4a0100(0xa6))+'\x0a';if(addressescsv['length']>0x0)_0x1f6d40+=_0x4a0100(0x10a)+DLS+_0x4a0100(0x1ab)+addressescsv[_0x4a0100(0x1a1)]('\x0a\x20\x20')+'\x0a';}if(_0x379990['KEY']&&_0x42f633['pathname']!=='/'+_0x379990[_0x4a0100(0x1e0)])_0x1f6d40='';else _0x1f6d40+='\x0aSUBAPI（订阅转换后端）:\x20'+subProtocol+_0x4a0100(0x12d)+subConverter+'\x0aSUBCONFIG（订阅转换配置文件）:\x20'+subConfig;const _0xc4e1a2=_0x545b9d!=_0x3e29ea?_0x4a0100(0xdd)+_0x545b9d+_0x4a0100(0xae)+_0x3e29ea+_0x4a0100(0x179)+userIDLow+'\x0a'+userIDTime+_0x4a0100(0xd5)+有效时间+_0x4a0100(0x187)+更新时间+'\x20时（北京时间）\x0a\x0a':''+userIDTime;return'\x0a################################################################\x0aSubscribe\x20/\x20sub\x20订阅地址,\x20支持\x20Base64、clash-meta、sing-box\x20订阅格式\x0a---------------------------------------------------------------\x0a快速自适应订阅地址:\x0ahttps://'+_0x2b7ce5+_0x2450f2+'/'+_0x545b9d+_0x4a0100(0x194)+_0x2b7ce5+_0x2450f2+'/'+_0x545b9d+_0x4a0100(0x120)+_0x2b7ce5+_0x2450f2+'/'+_0x545b9d+_0x4a0100(0x128)+_0x2b7ce5+_0x2450f2+'/'+_0x545b9d+_0x4a0100(0xcd)+_0x2b7ce5+_0x2450f2+'/'+_0x545b9d+_0x4a0100(0x1ca)+_0x2b7ce5+_0x2450f2+'/'+_0x545b9d+_0x4a0100(0x19b)+_0x2b7ce5+_0x2450f2+'/'+_0x545b9d+_0x4a0100(0x146)+FileName+'\x20配置信息\x0a---------------------------------------------------------------\x0a'+_0xc4e1a2+_0x4a0100(0xc4)+_0x2450f2+'\x0aUUID:\x20'+_0x3e29ea+_0x4a0100(0x1cd)+fakeUserID+_0x4a0100(0xf9)+_0x5da3cb+'\x0a'+_0x1f6d40+'\x0a---------------------------------------------------------------\x0a################################################################\x0av2ray\x0a---------------------------------------------------------------\x0a'+_0x512e54+_0x4a0100(0xb7)+_0x4d29a2+_0x4a0100(0xc9)+decodeURIComponent(atob(_0x4a0100(0x13a)))+'\x0a';}else{if(typeof fetch!=_0x4a0100(0x176))return _0x4a0100(0xb5);let _0x57f05a=[],_0x1d925d=[],_0x3572c3=[],_0x16fd1b=[];if(_0x2450f2[_0x4a0100(0x154)](_0x4a0100(0xe7)))noTLS=_0x4a0100(0x11f),fakeHostName=fakeHostName+_0x4a0100(0xe7),_0x3572c3=await 整理优选列表(addressesnotlsapi),_0x16fd1b=await 整理测速结果(_0x4a0100(0x14a));else{if(_0x2450f2[_0x4a0100(0x154)]('.pages.dev'))fakeHostName=fakeHostName+'.pages.dev';else _0x2450f2[_0x4a0100(0x154)](_0x4a0100(0x16b))||_0x2450f2['includes'](_0x4a0100(0x161))||noTLS==_0x4a0100(0x11f)?(noTLS='true',fakeHostName=_0x4a0100(0x161)+fakeHostName+_0x4a0100(0x1df),_0x3572c3=await 整理优选列表(addressesnotlsapi),_0x16fd1b=await 整理测速结果(_0x4a0100(0x14a))):fakeHostName=fakeHostName+'.xyz';}console[_0x4a0100(0x12f)]('虚假HOST:\x20'+fakeHostName);let _0x10ef6a=subProtocol+_0x4a0100(0x12d)+_0xa9ffaa+_0x4a0100(0x1c9)+fakeHostName+_0x4a0100(0x1e2)+(fakeUserID+atob(_0x4a0100(0x16c))+_0x2f8c32)+'&path='+encodeURIComponent(path),_0x58ea8c=!![];if(!_0xa9ffaa||_0xa9ffaa==''){if(_0x2450f2['includes'](_0x4a0100(0xde))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x4a0100(0x157)]==0x0))try{const _0x179aed=await fetch(proxyhostsURL);if(!_0x179aed['ok']){console[_0x4a0100(0x1be)](_0x4a0100(0xfa),_0x179aed[_0x4a0100(0x1c3)],_0x179aed[_0x4a0100(0x17b)]);return;}const _0x532315=await _0x179aed[_0x4a0100(0x198)](),_0x15aef4=_0x532315['split']('\x0a'),_0x557774=_0x15aef4[_0x4a0100(0x182)](_0x407cef=>_0x407cef[_0x4a0100(0x14f)]()!=='');proxyhosts=proxyhosts[_0x4a0100(0xfb)](_0x557774);}catch(_0x57d01b){console[_0x4a0100(0x1be)](_0x4a0100(0xfa),_0x57d01b);}proxyhosts=[...new Set(proxyhosts)];}_0x57f05a=await 整理优选列表(addressesapi),_0x1d925d=await 整理测速结果(_0x4a0100(0x116)),_0x10ef6a=_0x4a0100(0x109)+_0x2450f2+'/'+(fakeUserID+_0x42f633['search']);if(_0x2450f2[_0x4a0100(0x154)](_0x4a0100(0x16b))||_0x2450f2[_0x4a0100(0x154)]('notls')||noTLS==_0x4a0100(0x11f)){if(_0x42f633[_0x4a0100(0xc5)])_0x10ef6a+=_0x4a0100(0x18d);else _0x10ef6a+='?notls';}console[_0x4a0100(0x12f)](_0x4a0100(0xea)+_0x10ef6a);}if(!_0x3cec3f[_0x4a0100(0x154)](_0x4a0100(0x19a)[_0x4a0100(0x17a)]())){if(_0x3cec3f['includes'](_0x4a0100(0x127))&&!_0x3cec3f[_0x4a0100(0x154)]('nekobox')||_0x42f633[_0x4a0100(0x1c5)][_0x4a0100(0x13f)](_0x4a0100(0x127))&&!_0x3cec3f[_0x4a0100(0x154)]('subconverter'))_0x10ef6a=subProtocol+_0x4a0100(0x12d)+subConverter+'/sub?target=clash&url='+encodeURIComponent(_0x10ef6a)+_0x4a0100(0x10c)+encodeURIComponent(subConfig)+_0x4a0100(0x1b4)+subEmoji+_0x4a0100(0x15a),_0x58ea8c=![];else(_0x3cec3f[_0x4a0100(0x154)]('sing-box')||_0x3cec3f[_0x4a0100(0x154)](_0x4a0100(0x134))||(_0x42f633['searchParams'][_0x4a0100(0x13f)](_0x4a0100(0x134))||_0x42f633[_0x4a0100(0x1c5)][_0x4a0100(0x13f)]('sb'))&&!_0x3cec3f['includes'](_0x4a0100(0xba)))&&(_0x10ef6a=subProtocol+_0x4a0100(0x12d)+subConverter+_0x4a0100(0x149)+encodeURIComponent(_0x10ef6a)+_0x4a0100(0x10c)+encodeURIComponent(subConfig)+_0x4a0100(0x1b4)+subEmoji+_0x4a0100(0x15a),_0x58ea8c=![]);}try{let _0x5da720;if((!_0xa9ffaa||_0xa9ffaa=='')&&_0x58ea8c==!![])_0x5da720=await 生成本地订阅(fakeHostName,fakeUserID,noTLS,_0x57f05a,_0x1d925d,_0x3572c3,_0x16fd1b);else{const _0xfe8b4a=await fetch(_0x10ef6a,{'headers':{'User-Agent':_0x5da3cb+atob(_0x4a0100(0x163))}});_0x5da720=await _0xfe8b4a[_0x4a0100(0x198)]();}if(_0x42f633[_0x4a0100(0x1e1)]=='/'+fakeUserID)return _0x5da720;return 恢复伪装信息(_0x5da720,_0x3e29ea,_0x2450f2,_0x58ea8c);}catch(_0x1a41a6){return console['error'](_0x4a0100(0x103),_0x1a41a6),_0x4a0100(0xc3)+_0x1a41a6[_0x4a0100(0x121)];}}}async function 整理优选列表(_0x152b92){const _0x2ddb07=_0x47362f;if(!_0x152b92||_0x152b92[_0x2ddb07(0x157)]===0x0)return[];let _0xb19f40='';const _0x1fb3c6=new AbortController(),_0x246b28=setTimeout(()=>{const _0x3f62ab=_0x2ddb07;_0x1fb3c6[_0x3f62ab(0x13b)]();},0x7d0);try{const _0x22d575=await Promise[_0x2ddb07(0xf0)](_0x152b92[_0x2ddb07(0x1b9)](_0x48dbb7=>fetch(_0x48dbb7,{'method':_0x2ddb07(0xef),'headers':{'Accept':_0x2ddb07(0x191),'User-Agent':atob(_0x2ddb07(0x1a9))},'signal':_0x1fb3c6['signal']})[_0x2ddb07(0x1d4)](_0x3fa073=>_0x3fa073['ok']?_0x3fa073['text']():Promise[_0x2ddb07(0xd9)]())));for(const [_0x10aef3,_0x22272a]of _0x22d575[_0x2ddb07(0x15f)]()){if(_0x22272a[_0x2ddb07(0x1c3)]==='fulfilled'){const _0x2d4357=await _0x22272a['value'];_0x152b92[_0x10aef3]['includes'](_0x2ddb07(0x1cb))&&(proxyIPPool=proxyIPPool['concat']((await 整理(_0x2d4357))[_0x2ddb07(0x1b9)](_0x30afed=>{const _0x424144=_0x2ddb07,_0x4c4b59=_0x30afed[_0x424144(0x169)]('#')[0x0]||_0x30afed;if(_0x4c4b59[_0x424144(0x154)](':')){const _0x2a3d4b=_0x4c4b59[_0x424144(0x169)](':')[0x1];if(!httpsPorts[_0x424144(0x154)](_0x2a3d4b))return _0x4c4b59;}else return _0x4c4b59+_0x424144(0x18b);return null;})[_0x2ddb07(0x182)](Boolean))),_0xb19f40+=_0x2d4357+'\x0a';}}}catch(_0xa81fb1){console[_0x2ddb07(0x1be)](_0xa81fb1);}finally{clearTimeout(_0x246b28);}const _0x4cf109=await 整理(_0xb19f40);return _0x4cf109;}async function 整理测速结果(_0x45458f){const _0x3fc65a=_0x47362f;if(!addressescsv||addressescsv[_0x3fc65a(0x157)]===0x0)return[];let _0x10bf24=[];for(const _0x762853 of addressescsv){try{const _0x3ea3e6=await fetch(_0x762853);if(!_0x3ea3e6['ok']){console[_0x3fc65a(0x1be)]('获取CSV地址时出错:',_0x3ea3e6[_0x3fc65a(0x1c3)],_0x3ea3e6[_0x3fc65a(0x17b)]);continue;}const _0x3dc886=await _0x3ea3e6[_0x3fc65a(0x198)]();let _0x52c8d8;_0x3dc886[_0x3fc65a(0x154)]('\x0d\x0a')?_0x52c8d8=_0x3dc886[_0x3fc65a(0x169)]('\x0d\x0a'):_0x52c8d8=_0x3dc886[_0x3fc65a(0x169)]('\x0a');const _0xd62115=_0x52c8d8[0x0][_0x3fc65a(0x169)](','),_0x15b758=_0xd62115[_0x3fc65a(0x15c)](_0x3fc65a(0xb0)),_0x2b9d3c=0x0,_0x379664=0x1,_0x528f65=_0x15b758+0x1;if(_0x15b758===-0x1){console[_0x3fc65a(0x1be)](_0x3fc65a(0x11e));continue;}for(let _0x14d2f7=0x1;_0x14d2f7<_0x52c8d8['length'];_0x14d2f7++){const _0x7594f4=_0x52c8d8[_0x14d2f7][_0x3fc65a(0x169)](','),_0x428e65=_0x7594f4[_0x3fc65a(0x157)]-0x1;if(_0x7594f4[_0x15b758]['toUpperCase']()===_0x45458f&&parseFloat(_0x7594f4[_0x428e65])>DLS){const _0x19b3a5=_0x7594f4[_0x2b9d3c],_0x6af38e=_0x7594f4[_0x379664],_0x7aa676=_0x7594f4[_0x528f65],_0x5bdc00=_0x19b3a5+':'+_0x6af38e+'#'+_0x7aa676;_0x10bf24[_0x3fc65a(0xb4)](_0x5bdc00),_0x762853[_0x3fc65a(0x154)](_0x3fc65a(0x1cb))&&_0x7594f4[_0x15b758][_0x3fc65a(0x175)]()=='true'&&!httpsPorts['includes'](_0x6af38e)&&proxyIPPool[_0x3fc65a(0xb4)](_0x19b3a5+':'+_0x6af38e);}}}catch(_0x796d69){console['error'](_0x3fc65a(0x172),_0x796d69);continue;}}return _0x10bf24;}function 生成本地订阅(_0x1c4591,_0x22ee33,_0x57e5ae,_0x5409c4,_0x2d2f5c,_0x348208,_0x3f5189){const _0x5d6ef6=_0x47362f,_0x1d8458=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;addresses=addresses[_0x5d6ef6(0xfb)](_0x5409c4),addresses=addresses[_0x5d6ef6(0xfb)](_0x2d2f5c);let _0x5c14e7;if(_0x57e5ae==_0x5d6ef6(0x11f)){addressesnotls=addressesnotls['concat'](_0x348208),addressesnotls=addressesnotls[_0x5d6ef6(0xfb)](_0x3f5189);const _0x47dae7=[...new Set(addressesnotls)];_0x5c14e7=_0x47dae7['map'](_0x5b338d=>{const _0x483dcb=_0x5d6ef6;let _0x6e00eb='-1',_0x4b210f=_0x5b338d;const _0x2f4259=_0x4b210f[_0x483dcb(0x162)](_0x1d8458);if(!_0x2f4259){if(_0x5b338d[_0x483dcb(0x154)](':')&&_0x5b338d[_0x483dcb(0x154)]('#')){const _0x5b0aae=_0x5b338d['split'](':');_0x5b338d=_0x5b0aae[0x0];const _0x1beb5d=_0x5b0aae[0x1][_0x483dcb(0x169)]('#');_0x6e00eb=_0x1beb5d[0x0],_0x4b210f=_0x1beb5d[0x1];}else{if(_0x5b338d[_0x483dcb(0x154)](':')){const _0x412650=_0x5b338d['split'](':');_0x5b338d=_0x412650[0x0],_0x6e00eb=_0x412650[0x1];}else{if(_0x5b338d[_0x483dcb(0x154)]('#')){const _0x2d132d=_0x5b338d['split']('#');_0x5b338d=_0x2d132d[0x0],_0x4b210f=_0x2d132d[0x1];}}}_0x4b210f[_0x483dcb(0x154)](':')&&(_0x4b210f=_0x4b210f[_0x483dcb(0x169)](':')[0x0]);}else _0x5b338d=_0x2f4259[0x1],_0x6e00eb=_0x2f4259[0x2]||_0x6e00eb,_0x4b210f=_0x2f4259[0x3]||_0x5b338d;const _0x2bcd85=[_0x483dcb(0x11c),'8880',_0x483dcb(0x136),_0x483dcb(0x166),_0x483dcb(0x196),'2095'];if(!isValidIPv4(_0x5b338d)&&_0x6e00eb=='-1')for(let _0x2c7e3c of _0x2bcd85){if(_0x5b338d[_0x483dcb(0x154)](_0x2c7e3c)){_0x6e00eb=_0x2c7e3c;break;}}if(_0x6e00eb=='-1')_0x6e00eb='80';let _0x4157fe=_0x1c4591,_0x15b0be=path,_0x328a57='';const _0x5dabf4=atob(啥啥啥_写的这是啥啊),_0x2358f7=_0x5dabf4+'://'+_0x22ee33+'@'+_0x5b338d+':'+(_0x6e00eb+atob(_0x483dcb(0x1b0))+_0x4157fe)+_0x483dcb(0xb2)+encodeURIComponent(_0x15b0be)+'#'+encodeURIComponent(_0x4b210f+_0x328a57);return _0x2358f7;})['join']('\x0a');}const _0x2be7a5=[...new Set(addresses)],_0x5a1fdd=_0x2be7a5[_0x5d6ef6(0x1b9)](_0x303690=>{const _0x319a85=_0x5d6ef6;let _0x12ecce='-1',_0x36d1fe=_0x303690;const _0x20fa48=_0x36d1fe['match'](_0x1d8458);if(!_0x20fa48){if(_0x303690['includes'](':')&&_0x303690[_0x319a85(0x154)]('#')){const _0x5be720=_0x303690[_0x319a85(0x169)](':');_0x303690=_0x5be720[0x0];const _0x3bdad7=_0x5be720[0x1][_0x319a85(0x169)]('#');_0x12ecce=_0x3bdad7[0x0],_0x36d1fe=_0x3bdad7[0x1];}else{if(_0x303690[_0x319a85(0x154)](':')){const _0x9d5f6=_0x303690[_0x319a85(0x169)](':');_0x303690=_0x9d5f6[0x0],_0x12ecce=_0x9d5f6[0x1];}else{if(_0x303690['includes']('#')){const _0x5e5685=_0x303690[_0x319a85(0x169)]('#');_0x303690=_0x5e5685[0x0],_0x36d1fe=_0x5e5685[0x1];}}}_0x36d1fe[_0x319a85(0x154)](':')&&(_0x36d1fe=_0x36d1fe[_0x319a85(0x169)](':')[0x0]);}else _0x303690=_0x20fa48[0x1],_0x12ecce=_0x20fa48[0x2]||_0x12ecce,_0x36d1fe=_0x20fa48[0x3]||_0x303690;if(!isValidIPv4(_0x303690)&&_0x12ecce=='-1')for(let _0x1a3561 of httpsPorts){if(_0x303690[_0x319a85(0x154)](_0x1a3561)){_0x12ecce=_0x1a3561;break;}}if(_0x12ecce=='-1')_0x12ecce=_0x319a85(0x1a2);let _0x559b3d=_0x1c4591,_0x3dfc50=path,_0x3a2dd5='';const _0x100eb7=proxyIPPool[_0x319a85(0x1c2)](_0x731400=>_0x731400[_0x319a85(0x154)](_0x303690));if(_0x100eb7)_0x3dfc50+=_0x319a85(0x167)+_0x100eb7;proxyhosts[_0x319a85(0x157)]>0x0&&_0x559b3d['includes']('.workers.dev')&&(_0x3dfc50='/'+_0x559b3d+_0x3dfc50,_0x559b3d=proxyhosts[Math['floor'](Math[_0x319a85(0x1cc)]()*proxyhosts[_0x319a85(0x157)])],_0x3a2dd5='\x20已启用临时域名中转服务，请尽快绑定自定义域！');const _0x3b65bc=atob(啥啥啥_写的这是啥啊),_0x47cb7c=_0x3b65bc+_0x319a85(0x12d)+_0x22ee33+'@'+_0x303690+':'+(_0x12ecce+atob(_0x319a85(0xee))+_0x559b3d)+'&fp=random&type=ws&host='+_0x559b3d+_0x319a85(0xb2)+encodeURIComponent(_0x3dfc50)+'#'+encodeURIComponent(_0x36d1fe+_0x3a2dd5);return _0x47cb7c;})[_0x5d6ef6(0x1a1)]('\x0a');let _0x33f6cc=_0x5a1fdd;if(_0x57e5ae==_0x5d6ef6(0x11f))_0x33f6cc+='\x0a'+_0x5c14e7;return btoa(_0x33f6cc);}async function 整理(_0x21db96){const _0x3c4598=_0x47362f;var _0xcef169=_0x21db96['replace'](/[	|"'\r\n]+/g,',')[_0x3c4598(0x1c8)](/,+/g,',');if(_0xcef169[_0x3c4598(0x1d5)](0x0)==',')_0xcef169=_0xcef169[_0x3c4598(0x1b6)](0x1);if(_0xcef169[_0x3c4598(0x1d5)](_0xcef169[_0x3c4598(0x157)]-0x1)==',')_0xcef169=_0xcef169['slice'](0x0,_0xcef169[_0x3c4598(0x157)]-0x1);const _0x1f2d29=_0xcef169[_0x3c4598(0x169)](',');return _0x1f2d29;}async function sendMessage(_0x5519c7,_0x9687e7,_0x3505b0=''){const _0x557c12=_0x47362f;if(!BotToken||!ChatID)return;try{let _0x5dec4b='';const _0x1a4423=await fetch('http://ip-api.com/json/'+_0x9687e7+_0x557c12(0xe3));if(_0x1a4423['ok']){const _0x3c5ec1=await _0x1a4423[_0x557c12(0x14d)]();_0x5dec4b=_0x5519c7+_0x557c12(0x1e6)+_0x9687e7+_0x557c12(0xce)+_0x3c5ec1[_0x557c12(0xf3)]+_0x557c12(0x1d9)+_0x3c5ec1[_0x557c12(0xc0)]+'\x0a组织:\x20'+_0x3c5ec1[_0x557c12(0xbb)]+_0x557c12(0x1a7)+_0x3c5ec1['as']+'\x0a'+_0x3505b0;}else _0x5dec4b=_0x5519c7+_0x557c12(0x1e6)+_0x9687e7+_0x557c12(0x101)+_0x3505b0;const _0xc42c0d='https://api.telegram.org/bot'+BotToken+'/sendMessage?chat_id='+ChatID+'&parse_mode=HTML&text='+encodeURIComponent(_0x5dec4b);return fetch(_0xc42c0d,{'method':_0x557c12(0x12e),'headers':{'Accept':'text/html,application/xhtml+xml,application/xml;','Accept-Encoding':_0x557c12(0x185),'User-Agent':_0x557c12(0xc1)}});}catch(_0xe06341){console[_0x557c12(0x1be)](_0x557c12(0x184),_0xe06341);}}function isValidIPv4(_0x3263fa){const _0x5e462a=_0x47362f,_0xe569a5=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return _0xe569a5[_0x5e462a(0x177)](_0x3263fa);}function 生成动态UUID(_0x24129c){const _0x83d86d=_0x47362f,_0x5df028=0x8,_0x29de18=new Date(0x7d7,0x6,0x7,更新时间,0x0,0x0),_0x78423b=0x3e8*0x3c*0x3c*0x18*有效时间;function _0x310e91(){const _0x2ad2d5=_0x45d0,_0x151fe1=new Date(),_0x34d083=new Date(_0x151fe1[_0x2ad2d5(0x114)]()+_0x5df028*0x3c*0x3c*0x3e8),_0x26db30=_0x34d083-_0x29de18;return Math[_0x2ad2d5(0xb3)](_0x26db30/_0x78423b);}function _0x4ee5b2(_0xc84cd9){const _0x340ac6=_0x45d0,_0x2d468d=new TextEncoder()['encode'](_0xc84cd9);return crypto[_0x340ac6(0xff)]['digest']('SHA-256',_0x2d468d)['then'](_0x4bd6a2=>{const _0x394434=_0x340ac6,_0xc89885=Array[_0x394434(0xd0)](new Uint8Array(_0x4bd6a2)),_0x186a5b=_0xc89885[_0x394434(0x1b9)](_0x3cf6c0=>_0x3cf6c0[_0x394434(0xaf)](0x10)['padStart'](0x2,'0'))[_0x394434(0x1a1)]('');return _0x186a5b[_0x394434(0x1ba)](0x0,0x8)+'-'+_0x186a5b[_0x394434(0x1ba)](0x8,0x4)+'-4'+_0x186a5b['substr'](0xd,0x3)+'-'+(parseInt(_0x186a5b[_0x394434(0x1ba)](0x10,0x2),0x10)&0x3f|0x80)[_0x394434(0xaf)](0x10)+_0x186a5b[_0x394434(0x1ba)](0x12,0x2)+'-'+_0x186a5b[_0x394434(0x1ba)](0x14,0xc);});}const _0x29bea9=_0x310e91(),_0x1e5eea=new Date(_0x29de18['getTime']()+_0x29bea9*_0x78423b),_0x4d6357=_0x4ee5b2(_0x24129c+_0x29bea9),_0x5c5eec=_0x4ee5b2(_0x24129c+(_0x29bea9-0x1)),_0x29f505=new Date(_0x1e5eea['getTime']()-_0x5df028*0x3c*0x3c*0x3e8),_0xfa8e45='到期时间(UTC):\x20'+_0x29f505['toISOString']()['slice'](0x0,0x13)['replace']('T','\x20')+_0x83d86d(0x1ce)+_0x1e5eea[_0x83d86d(0x19f)]()[_0x83d86d(0x1b6)](0x0,0x13)['replace']('T','\x20')+'\x0a';return Promise[_0x83d86d(0x1db)]([_0x4d6357,_0x5c5eec,_0xfa8e45]);}
